----

> # 1. 오토스케일

+ 오토스케일은 CPU와 메모리 사용률에 따라 파드나 노드의 수를 자동으로 늘리고 줄이는 기능

+ 특히 퍼블릭 클라우드에서는 노드의 개수, 이용 시간에 따라 비용이 달라지기 때문에 비용 최적화와도 연결된다.

<br>

----

> # 2. 온프레미스에서의 오토스케일 활용

+ 예를 들면 업무 시간대에는 사용자의 요청을 처리하는 파드의 비중을 높이고, 심야 시간대에는 배치 처리를 수행하는 파드의 비중을 높이는 식의 활용

<br>

----

> # 3. 수평 파드 오토스케일러 (Horizontal Pod Autoscaler, HPA)

+ 쿠버네티스의 오토스케일을 개발하는 여러 서브 프로젝트가 있는데, 그중에서도 특히 주목할 많한 것이 다음 두 프로젝트이다.

    - 수평 파드 오토스케일러(Horizontal Pod Autoscaler, HPA)

    - 클러스터 오토스케일러(Cluster Autoscaler, CA)

+ HPA는 파드의 CPU 사용률을 감시하면서 파드의 레플리카 수를 늘리거나 줄이고, 한편 CA는 필요할 때 노드를 자동으로 추가한다.

+ 클라우드에서는 부하에 반응하여 노드의 개수를 조절하는 것이 비용 절감을 위해 좋지만, HPA는 이러한 요구 사항을 충족시키진 못한다.

+ 한편, CA를 사용하면 클라우드의 API와 연동하여 노드를 늘리거나 줄여 비용을 절약할 수 있다.

<br>

----

> # 4. 오토스케일링 작업

+ 오토스케일을 사용하기 위해서는 컨테이너가 갑작스러운 종료 요청에 대응할 수 있어야 한다.

+ 즉, 종료 요청 시그널 SIGTERM을 받으면 종료 처리를 수행하고 컨테이너를 종료하도록 구현해야 한다.

----

+ HPA는 루프를 돌면서 대상이 되는 파드의 CPU 사용률을 정기적으로 수집하고 CPU 사용률의 평균을 목표값이 되도록 레플리카 수를 조절함

+ 이때 조절 범위는 **"MinReplicas <= Replicas <= MaxReplicas"** 가 된다.

+ 